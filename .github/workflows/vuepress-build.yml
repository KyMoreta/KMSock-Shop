name: CI

on: [push]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v1
    - name: Run a one-line script
      run: echo Hello, world!
    - name: Run a multi-line script
      run: |
        echo Add other actions to build,
        echo test, and deploy your project.

# name: "VuePress build"

# on:
#   push:
#     branches: [master]
#     paths:
#     - docs/*
#     - .spelling
#     - package.json
#     - package-lock.json

# jobs:
#   markdown_link_check:
#     name: "Markdown link check"
#     runs-on: ubuntu-latest
#     steps:
#     - uses: actions/checkout@master
#       with:
#         fetch-depth: 1
#     - uses: gaurav-nelson/github-action-markdown-link-check@0.4.0

  # markdown_lint_check:
  #   name: "Markdown lint check"
  #   runs-on: ubuntu-latest

  #   steps:
  #   - uses: actions/checkout@master

  #   - name: "Install Node.js 12"
  #     uses: actions/setup-node@master
  #     with:
  #       version: 12.x

  #   - name: "Install markdownlint-cli"
  #     run: npm install -g markdownlint-cli

  #   - name: "Create markdownlint configuration file"
  #     run: |
  #       echo "{ MD013: { code_blocks: false } }" > /tmp/markdownlint_config.json

  #   - name: "Run markdownlint"
  #     run: find . -path ./node_modules -prune -o -name "*.md" -print0 | xargs -t -0 markdownlint -c /tmp/markdownlint_config.json

  # markdown_spell_check:
  #   name: "Markdown spell check"
  #   runs-on: ubuntu-latest

  #   steps:
  #   - uses: actions/checkout@master

  #   - name: "Install Node.js 12"
  #     uses: actions/setup-node@master
  #     with:
  #       version: 12.x

  #   - name: "Install markdown-spellcheck"
  #     run: npm install -g markdown-spellcheck

  #   - name: "Run mdspell"
  #     run: mdspell '**/*.md' '!**/node_modules/**/*.md' --ignore-numbers --ignore-acronyms --report --en-gb

  # vuepress_build:
  #   name: "VuePress build"
  #   runs-on: ubuntu-latest

  #   needs:
  #     - markdown_link_test
  #     - markdown_lint_check
  #     - markdown_spell_check

  #   steps:
  #   - uses: actions/checkout@master

  #   - name: "Install Node.js 12"
  #     uses: actions/setup-node@master
  #     with:
  #       version: 12.x

  #   - name: "Install VuePress and build the document"
  #     run: |
  #       set -e
  #       npm install
  #       npm run build

  #   - name: "Check links"
  #     run: |
  #       set -e
  #       ln -s docs/.vuepress/dist ${GITHUB_REPOSITORY##*/}
  #       cp LICENSE docs/.vuepress/dist
  #       python3 -m http.server 8080 &> /dev/null &
  #       export HOST_IP_ADDRESS="$(ip -4 addr show docker0 | sed -n 's/.* inet \([^/]*\).*/\1/p')"
  #       docker run --rm linkchecker/linkchecker --pause=1 --check-extern --no-status --ignore-url "(http|https)://localhost" --ignore-url "(http|https)://.*mylabs.dev" http://${HOST_IP_ADDRESS}:8080/${GITHUB_REPOSITORY##*/}

  #   - name: Deploy

  #     needs:
  #       - vuepress_build

  #     uses: peaceiris/actions-gh-pages@v2.5.0
  #     env:
  #       GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
  #       PUBLISH_BRANCH: gh-pages
  #       PUBLISH_DIR: ./docs/.vuepress/dist
